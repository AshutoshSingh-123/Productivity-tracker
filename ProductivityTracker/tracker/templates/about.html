{% extends "includes/base.html" %} {% block content %}

<div class="row">
  <div class="col s12 m12">
    <div class="card darken-1">
      <div class="card-content">
        <form action="/setTime" method="POST">
          {% csrf_token %}
          <span class="card-title"
            >Select Time Interval For Focus Mode :
            <button type="submit" class="right waves-effect waves-light btn">
              Apply Changes
            </button></span
          >
          <div class="row">
            <div class="input-field col s6">
              <input id="start_time" type="text" class="timepicker" name="start_time" required>
              <label for="start_time">Enter Start Time</label>
            </div>
            <div class="input-field col s6">
              <input id="end_time" type="text" class="timepicker" name="end_time" required>
              <label for="end_time">Enter End Time</label>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col s12 m12" style="overflow: hidden !important;">
    <div class="card darken-1">
      <div class="card-content">
        <form action="" method="POST">
          {% csrf_token %}
          <span class="card-title"
            >Select Applications to be Restricted in Focus Mode :
            <button type="submit" class="right waves-effect waves-light btn">
              Apply Filters
            </button></span
          >
          <div style="height: 45vh; overflow-y: auto;">
          <table class="responsive-table striped">
            <thead>
              <tr>
                <th></th>
                <th>Application Name</th>
              </tr>
            </thead>
            <tbody>
              {% for app in apps %}
              <tr>
                <th scope="row">
                  <p>
                    <label>
                      <input type="checkbox" name="filters" value="{{app}}" 
                      {% if app in selectedApp %} checked {% endif %} />
                      <span></span>
                    </label>
                  </p>
                </th>
                <td>{{app}} </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>


<div class="row">
  <div class="col s12 m12" style="overflow: hidden !important;">
    <div class="card darken-1">
      <form action="/setWebsite" method="POST">
      <div class="card-content">
          {% csrf_token %}
          <div class="card-title"
            >Websites to be Restricted in Focus Mode : 
            <div class="row">
            <div class="input-field col s9">
              <input id="url" type="url" name="url">
              <label for="url">Enter website</label>
            </div>
            <div class="col s3">
              <input type="submit" name="operation" value="Add Website" class="waves-effect waves-light green darken-1 btn">
              <input type="submit" name="operation" value="Clear" class="waves-effect waves-light red darken-1 btn">
            </div>
          </div>
            </div
          >
          <div style="height: 45vh; overflow-y: auto;">
          <table class="responsive-table striped">
            <thead>
              <tr>
                <th>Website Domain</th>
              </tr>
            </thead>
            <tbody>
              {% for app in apps %}
              <tr>
                <td>{{app}} </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </form>
  </div>
</div>
<script>
  
  document.addEventListener('DOMContentLoaded', function() {
    let elems = document.querySelectorAll('.timepicker');
    let options = {
      twelveHour: false
    }
    let instances = M.Timepicker.init(elems, options);
  });
</script>
{% endblock content %}
